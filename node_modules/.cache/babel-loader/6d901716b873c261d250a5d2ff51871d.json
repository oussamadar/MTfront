{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\Virement-master\\\\src\\\\components\\\\beneficiare\\\\VirementMultipe.js\";\nimport React, { Component } from \"react\";\nimport { getCompte } from \"../../actions/compteActions\";\nimport { connect } from \"react-redux\";\nimport Beneficiare from \"./Beneficiare\";\nimport { postVirement, postPass } from \"../../actions/virementActions\";\nimport classnames from \"classnames\";\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Input } from \"reactstrap\";\n\nclass VirementMultipe extends Component {\n  constructor(props) {\n    super(props);\n    var curr = new Date();\n    curr.setDate(curr.getDate() + 3);\n    var dateExe = curr.toISOString().substr(0, 10);\n    this.state = {\n      motif: String,\n      montant: Number,\n      nombrBeneficiare: Number,\n      dateExce: dateExe,\n      numeroCompte: String,\n      errors: {},\n      show: false,\n      verificationPass: \"\"\n    };\n    this.SendVirement = this.SendVirement.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    }); //pour la figure s affiche meme si en ecri\n\n    if (e.target.name == \"verificationPass\") {\n      this.setState({\n        show: true\n      });\n    }\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    if (this.props.items.length == 0) {\n      alert(\"Selectionnez des Benefeciares\");\n      return;\n    }\n\n    const VirementRequest = {\n      motif: this.state.motif,\n      status: \"Signe\",\n      montant: this.state.montant,\n      dateExce: this.state.dateExce,\n      compte: {\n        numeroCompte: this.state.numeroCompte\n      },\n      virementMultipe: {\n        nombrBeneficiare: this.state.nombrBeneficiare,\n        virementMultipeBenificiareList: this.props.items\n      }\n    };\n    this.props.postVirement(VirementRequest);\n\n    if (Object.entries(this.state.errors).length !== 0) {\n      this.state.show = false;\n      return;\n    }\n\n    if (this.state.errors.show === true) {\n      this.setState({\n        show: true\n      });\n    }\n  }\n\n  SendVirement(e) {\n    e.preventDefault();\n    const verificationPass = {\n      verificationPass: this.state.verificationPass\n    };\n    this.props.postPass(verificationPass);\n  }\n\n  componentDidMount() {\n    this.props.getCompte();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n  }\n\n  toggle() {\n    this.setState({\n      show: false\n    });\n    this.state.errors.show = false;\n  }\n\n  render() {\n    let compte = Array.from(this.props.compte.comptes);\n    var curr = new Date();\n    var date = curr.toISOString().substr(0, 10);\n    const {\n      errors\n    } = this.state;\n\n    if (errors.show === true || errors.password) {\n      this.state.show = true;\n    }\n\n    if (errors.show === false) {\n      this.state.show = false;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"ibox-content m-b-sm border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"col-form-label\",\n      for: \"order_id\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, \"Choisir un Compte\"), /*#__PURE__*/React.createElement(\"select\", {\n      class: \"form-control-sm form-control input-s-sm inline\",\n      name: \"numeroCompte\",\n      value: this.state.value,\n      onChange: this.onChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      selected: true,\n      disabled: true,\n      hidden: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 19\n      }\n    }, \"Choose here\"), compte.map(compte => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: compte.id,\n        value: compte.numeroCompte,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 23\n        }\n      }, compte.numeroCompte);\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"col-form-label\",\n      for: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, \"Motif\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"status\",\n      name: \"motif\",\n      placeholder: \"Vrm Mult\",\n      class: \"form-control\",\n      onChange: this.onChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"col-form-label\",\n      for: \"customer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }\n    }, \"Nombre de b\\xE9n\\xE9ficiare\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      id: \"customer\",\n      name: \"nombrBeneficiare\",\n      placeholder: \"0\",\n      className: classnames(\"form-control\", {\n        \"is-invalid\": errors.virementMultipe\n      }),\n      onChange: this.onChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }\n    }), this.props.items.length !== this.state.nombrBeneficiare && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"invalid-feedback\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 19\n      }\n    }, \"Verifier Nombre benefeciare\", \" \")))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"col-form-label\",\n      for: \"date_added\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    }, \"Date de cr\\xE9ation\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"date_added\",\n      type: \"date\",\n      class: \"form-control\",\n      value: date,\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"col-form-label\",\n      for: \"date_modified\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }\n    }, \"Date d'ex\\xE9cution\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"dateExce\",\n      type: \"date\",\n      className: classnames(\"form-control\", {\n        \"is-invalid\": errors.dateExce\n      }),\n      value: this.state.dateExce,\n      onChange: this.onChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 19\n      }\n    }), errors.dateExce && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"invalid-feedback\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }\n    }, errors.dateExce)))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"col-form-label\",\n      for: \"amount\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }\n    }, \"Montant\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      name: \"montant\",\n      placeholder: \"0\",\n      className: classnames(\"form-control\", {\n        \"is-invalid\": errors.montant\n      }),\n      onChange: this.onChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }\n    }), errors.montant && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"invalid-feedback\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 19\n      }\n    }, errors.montant))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-12\",\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-outline btn-danger dim\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 15\n      }\n    }, \"Enregistrer\")))), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.show,\n      toggle: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      toggle: this.toggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }\n    }, \"Type your Password \"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.SendVirement,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      name: \"verificationPass\",\n      type: \"password\",\n      onChange: this.onChange,\n      className: classnames(\"form-control\", {\n        \"is-invalid\": errors.password\n      }),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 15\n      }\n    }), errors.password && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"invalid-feedback\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }\n    }, errors.password)), /*#__PURE__*/React.createElement(ModalFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 15\n      }\n    }, \"Send\"), /*#__PURE__*/React.createElement(Button, {\n      color: \"secondary\",\n      type: \"reset\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 15\n      }\n    }, \"Cancel\")))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  compte: state.compte,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  getCompte,\n  postVirement,\n  postPass\n})(VirementMultipe);","map":{"version":3,"sources":["C:/Users/admin/Desktop/Virement-master/src/components/beneficiare/VirementMultipe.js"],"names":["React","Component","getCompte","connect","Beneficiare","postVirement","postPass","classnames","Button","Modal","ModalHeader","ModalBody","ModalFooter","Input","VirementMultipe","constructor","props","curr","Date","setDate","getDate","dateExe","toISOString","substr","state","motif","String","montant","Number","nombrBeneficiare","dateExce","numeroCompte","errors","show","verificationPass","SendVirement","bind","onChange","toggle","onSubmit","e","setState","target","name","value","preventDefault","items","length","alert","VirementRequest","status","compte","virementMultipe","virementMultipeBenificiareList","Object","entries","componentDidMount","componentWillReceiveProps","nextProps","render","Array","from","comptes","date","password","map","id","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { getCompte } from \"../../actions/compteActions\";\nimport { connect } from \"react-redux\";\nimport Beneficiare from \"./Beneficiare\";\nimport { postVirement, postPass } from \"../../actions/virementActions\";\nimport classnames from \"classnames\";\nimport {\n  Button,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Input,\n} from \"reactstrap\";\nclass VirementMultipe extends Component {\n  constructor(props) {\n    super(props);\n    var curr = new Date();\n    curr.setDate(curr.getDate() + 3);\n    var dateExe = curr.toISOString().substr(0, 10);\n    this.state = {\n      motif: String,\n      montant: Number,\n      nombrBeneficiare: Number,\n      dateExce: dateExe,\n      numeroCompte: String,\n      errors: {},\n      show: false,\n      verificationPass: \"\",\n    };\n    this.SendVirement = this.SendVirement.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n  onChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n\n    //pour la figure s affiche meme si en ecri\n    if (e.target.name == \"verificationPass\") {\n      this.setState({ show: true });\n    }\n  }\n  onSubmit(e) {\n    e.preventDefault();\n    if (this.props.items.length == 0) {\n      alert(\"Selectionnez des Benefeciares\");\n      return;\n    }\n    const VirementRequest = {\n      motif: this.state.motif,\n      status: \"Signe\",\n      montant: this.state.montant,\n      dateExce: this.state.dateExce,\n      compte: {\n        numeroCompte: this.state.numeroCompte,\n      },\n      virementMultipe: {\n        nombrBeneficiare: this.state.nombrBeneficiare,\n        virementMultipeBenificiareList: this.props.items,\n      },\n    };\n    this.props.postVirement(VirementRequest);\n    if (Object.entries(this.state.errors).length !== 0) {\n      this.state.show = false;\n      return;\n    }\n    if (this.state.errors.show === true) {\n      this.setState({ show: true });\n    }\n  }\n\n  SendVirement(e) {\n    e.preventDefault();\n    const verificationPass = { verificationPass: this.state.verificationPass };\n    this.props.postPass(verificationPass);\n  }\n  componentDidMount() {\n    this.props.getCompte();\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.errors) {\n      this.setState({ errors: nextProps.errors });\n    }\n  }\n\n  toggle() {\n    this.setState({ show: false });\n    this.state.errors.show = false;\n  }\n  render() {\n    let compte = Array.from(this.props.compte.comptes);\n    var curr = new Date();\n    var date = curr.toISOString().substr(0, 10);\n\n    const { errors } = this.state;\n    if (errors.show === true || errors.password) {\n      this.state.show = true;\n    }\n    if (errors.show === false) {\n      this.state.show = false;\n    }\n\n    return (\n      <div class=\"ibox-content m-b-sm border-bottom\">\n        <form onSubmit={this.onSubmit}>\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <div class=\"form-group\">\n                <label class=\"col-form-label\" for=\"order_id\">\n                  Choisir un Compte\n                </label>\n                <select\n                  class=\"form-control-sm form-control input-s-sm inline\"\n                  name=\"numeroCompte\"\n                  value={this.state.value}\n                  onChange={this.onChange}\n                  required\n                >\n                  <option value=\"\" selected disabled hidden>\n                    Choose here\n                  </option>\n                  {compte.map((compte) => {\n                    return (\n                      <option key={compte.id} value={compte.numeroCompte}>\n                        {compte.numeroCompte}\n                      </option>\n                    );\n                  })}\n                </select>\n              </div>\n            </div>\n            <div class=\"col-sm-4\">\n              <div class=\"form-group\">\n                <label class=\"col-form-label\" for=\"status\">\n                  Motif\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"status\"\n                  name=\"motif\"\n                  placeholder=\"Vrm Mult\"\n                  class=\"form-control\"\n                  onChange={this.onChange}\n                  required\n                />\n              </div>\n            </div>\n            <div class=\"col-sm-4\">\n              <div class=\"form-group\">\n                <label class=\"col-form-label\" for=\"customer\">\n                  Nombre de bénéficiare\n                </label>\n                <input\n                  type=\"number\"\n                  id=\"customer\"\n                  name=\"nombrBeneficiare\"\n                  placeholder=\"0\"\n                  className={classnames(\"form-control\", {\n                    \"is-invalid\": errors.virementMultipe,\n                  })}\n                  onChange={this.onChange}\n                  required\n                />\n                {this.props.items.length !== this.state.nombrBeneficiare && (\n                  <div className=\"invalid-feedback\">\n                    Verifier Nombre benefeciare{\" \"}\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <div class=\"form-group\">\n                <label class=\"col-form-label\" for=\"date_added\">\n                  Date de création\n                </label>\n                <div class=\"input-group date\">\n                  <input\n                    id=\"date_added\"\n                    type=\"date\"\n                    class=\"form-control\"\n                    value={date}\n                    disabled\n                  />\n                </div>\n              </div>\n            </div>\n            <div class=\"col-sm-4\">\n              <div class=\"form-group\">\n                <label class=\"col-form-label\" for=\"date_modified\">\n                  Date d'exécution\n                </label>\n                <div class=\"input-group date\">\n                  <input\n                    name=\"dateExce\"\n                    type=\"date\"\n                    className={classnames(\"form-control\", {\n                      \"is-invalid\": errors.dateExce,\n                    })}\n                    value={this.state.dateExce}\n                    onChange={this.onChange}\n                    required\n                  />\n                  {errors.dateExce && (\n                    <div className=\"invalid-feedback\">{errors.dateExce}</div>\n                  )}\n                </div>\n              </div>\n            </div>\n            <div class=\"col-sm-4\">\n              <div class=\"form-group\">\n                <label class=\"col-form-label\" for=\"amount\">\n                  Montant\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"montant\"\n                  placeholder=\"0\"\n                  className={classnames(\"form-control\", {\n                    \"is-invalid\": errors.montant,\n                  })}\n                  onChange={this.onChange}\n                  required\n                />\n                {errors.montant && (\n                  <div className=\"invalid-feedback\">{errors.montant}</div>\n                )}\n              </div>\n            </div>\n            <div class=\"col-sm-12\" align=\"right\">\n              <button type=\"submit\" class=\"btn btn-outline btn-danger dim\">\n                Enregistrer\n              </button>\n            </div>\n          </div>\n        </form>\n        <Modal isOpen={this.state.show} toggle={this.toggle}>\n          <ModalHeader toggle={this.toggle}>Type your Password </ModalHeader>\n          <form onSubmit={this.SendVirement}>\n            <ModalBody>\n              <Input\n                name=\"verificationPass\"\n                type=\"password\"\n                onChange={this.onChange}\n                className={classnames(\"form-control\", {\n                  \"is-invalid\": errors.password,\n                })}\n                required\n              />\n              {errors.password && (\n                <div className=\"invalid-feedback\">{errors.password}</div>\n              )}\n            </ModalBody>\n            <ModalFooter>\n              <Button color=\"primary\">Send</Button>\n              <Button color=\"secondary\" type=\"reset\">\n                Cancel\n              </Button>\n            </ModalFooter>\n          </form>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  compte: state.compte,\n  errors: state.errors,\n});\n\nexport default connect(mapStateToProps, { getCompte, postVirement, postPass })(\n  VirementMultipe\n);\n"]},"metadata":{},"sourceType":"module"}